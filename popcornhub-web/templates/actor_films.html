{% extends "base.html" %}

{% block title %}{{ actor_name }} - PopCornHub{% endblock %}

{% block content %}
<div class="container my-4">

  <div class="d-flex align-items-center gap-3 mb-4">
    <div class="rounded-circle overflow-hidden"
         style="width:72px;height:72px;">
      <img src="{{ actor_image_url }}"
           alt="{{ actor_name }}"
           class="w-100 h-100"
           style="object-fit:cover;">
    </div>
    <div>
      <h1 class="mb-1">{{ actor_name }}</h1>
    </div>
  </div>

  <div class="row g-4">
    {% for film in films %}
      <div class="col-6 col-sm-4 col-md-3 col-lg-2">
        <div class="card bg-dark border-0 h-100 shadow-sm"
             role="button"
             onclick="window.location.href='{{ url_for('films_bp.film_detail', film_id=film.id) }}'">

          {% if film.affiche_url %}
            <img src="{{ film.affiche_url }}"
                 class="card-img-top"
                 alt="Affiche de {{ film.titre }}">
          {% else %}
            <div class="bg-secondary d-flex align-items-center justify-content-center"
                 style="height:260px;">
              <span class="text-light-50 small">Affiche indisponible</span>
            </div>
          {% endif %}

          <div class="film-card-body">
            <h5 class="film-title mb-1">{{ film.titre }}</h5>

            <div class="film-meta d-flex justify-content-between align-items-center">
              <span class="film-date">
                {% if film.date_sortie %}
                  {{ film.date_sortie }}
                {% else %}
                  {{ film.annee }}
                {% endif %}
              </span>
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>

</div>
{% endblock %}